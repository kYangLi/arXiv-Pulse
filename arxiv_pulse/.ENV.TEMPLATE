# arXiv Pulse 配置文件模板
# 将此文件复制为 .env 并进行配置
# 所有配置项均可通过环境变量覆盖

# ============================================================================
# 1. AI API 配置 (支持所有 OpenAI 兼容服务)
# ============================================================================
# 支持 DeepSeek、Paratera AI、OpenAI 等所有 OpenAI 兼容服务
# 示例: Paratera AI: https://llmapi.paratera.com
# 示例: DeepSeek: https://api.deepseek.com
# 示例: OpenAI: https://api.openai.com

# AI API 密钥 (必需，用于论文总结和翻译)
AI_API_KEY=your_api_key_here

# AI 模型名称 (默认: DeepSeek-V3.2-Thinking)
AI_MODEL=DeepSeek-V3.2-Thinking

# AI API 基础 URL (默认: Paratera AI)
AI_BASE_URL=https://llmapi.paratera.com


# ============================================================================
# 2. 数据库配置
# ============================================================================

# 数据库连接 URL (默认: SQLite)
DATABASE_URL=sqlite:///data/arxiv_papers.db


# ============================================================================
# 3. 爬虫配置
# ============================================================================

# 初始同步每个查询的最大论文数 (默认: 10000)
# 注意: 实际取 MIN(MAX_RESULTS_INITIAL, ARXIV_MAX_RESULTS, 30000)
MAX_RESULTS_INITIAL=10000

# 每日同步每个查询的最大论文数 (默认: 500)
# 日常更新通常只需要最新论文，因此设置较小值
MAX_RESULTS_DAILY=500

# 爬虫延迟 (秒，避免频繁请求 arXiv API) (默认: 1.0)
# 注意: 当前代码中未使用此配置，arXiv 客户端使用固定延迟 3.0 秒
CRAWL_DELAY=1.0

# arXiv API 最大返回论文数限制 (默认: 30000)
# 注意: arXiv API 最大限制为 30000 篇，但实际查询可能受性能影响
ARXIV_MAX_RESULTS=30000

# arXiv API 排序方式 (默认: submittedDate)
# 可选: submittedDate, lastUpdatedDate, relevance
ARXIV_SORT_BY=submittedDate

# arXiv API 排序顺序 (默认: descending)
# 可选: descending, ascending
ARXIV_SORT_ORDER=descending


# ============================================================================
# 4. 搜索查询配置
# ============================================================================
# 分号分隔的搜索查询列表，允许查询中包含逗号
# 默认监控凝聚态物理、DFT、机器学习、力场等研究领域
# 通过交互式配置向导 (pulse init .) 可以自动生成优化查询

SEARCH_QUERIES=condensed matter physics AND cat:cond-mat.*; (ti:"density functional" OR abs:"density functional") AND (cat:physics.comp-ph OR cat:cond-mat.mtrl-sci OR cat:physics.chem-ph); (ti:"machine learning" OR abs:"machine learning") AND (cat:physics.comp-ph OR cat:cond-mat.mtrl-sci OR cat:physics.chem-ph); (ti:"force field" OR abs:"force field") AND (cat:physics.comp-ph OR cat:cond-mat.soft OR cat:physics.chem-ph); (ti:"first principles" OR abs:"first principles" OR ti:"ab initio" OR abs:"ab initio") AND (cat:physics.comp-ph OR cat:cond-mat.mtrl-sci); (ti:"molecular dynamics" OR abs:"molecular dynamics") AND (cat:physics.comp-ph OR cat:cond-mat.soft OR cat:physics.chem-ph); (ti:"quantum chemistry" OR abs:"quantum chemistry") AND (cat:physics.chem-ph OR cat:physics.comp-ph); cat:cond-mat.mtrl-sci AND (ti:"computational" OR abs:"computational" OR ti:"simulation" OR abs:"simulation")


# ============================================================================
# 5. 报告配置
# ============================================================================

# 报告输出目录 (默认: reports)
REPORT_DIR=reports

# 报告中包含的最大论文数 (默认: 64)
REPORT_MAX_PAPERS=64

# AI 总结和翻译的最大 token 数 (默认: 10000)
SUMMARY_MAX_TOKENS=10000


# ============================================================================
# 6. 同步配置
# ============================================================================

# 初始同步回溯的年数 (默认: 3 年)
YEARS_BACK=5

# 重要论文列表文件路径 (默认: data/important_papers.txt)
IMPORTANT_PAPERS_FILE=data/important_papers.txt


# ============================================================================
# 7. 日志配置
# ============================================================================

# 日志级别 (默认: INFO)
# 可选: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO


# ============================================================================
# 使用说明
# ============================================================================
# 1. 将此文件复制为 .env
# 2. 设置您的 AI API 密钥 (AI_API_KEY)
# 3. 根据需要调整其他配置
# 4. 运行 pulse init . 初始化目录 (推荐使用交互式配置向导)
# 5. 运行 pulse sync . 同步论文
# 6. 使用 pulse search "查询内容" . 搜索论文
# 7. 使用 pulse recent . 生成最近论文报告

# 注意: 通过交互式配置向导 (pulse init .) 可以自动优化配置，
#       包括研究领域选择、智能参数推荐等。

# 关于 MAX_RESULTS_INITIAL 和 MAX_RESULTS_DAILY 的区别:
# - MAX_RESULTS_INITIAL: 首次爬取某个查询时使用的限制，通常需要获取较多历史论文
# - MAX_RESULTS_DAILY: 日常更新已有查询时使用的限制，通常只需要获取最新论文
# 两者有不同的使用场景，因此需要分别配置。